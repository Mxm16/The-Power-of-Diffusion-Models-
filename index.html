<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CS180 Project 5 (Part A) — Diffusion Models</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      line-height: 1.6;
    }
    h1, h2, h3 { color: #1b3d8f; }
    figure { text-align: center; }
    figcaption { font-size: 14px; margin-top: 6px; }
    .img-row {
      display: flex;
      gap: 20px;
      margin-top: 15px;
      margin-bottom: 35px;
    }
    .img-row img {
      width: 300px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .section { margin-bottom: 60px; }
  </style>
</head>

<body>

<h1>CS180: Intro to Computer Vision  
<br>Project 5 (Part A): Diffusion Models</h1>

<p><strong>Student:</strong> Your Name  
<br><strong>SID:</strong> XXXXXXXX  
<br><strong>Course:</strong> CS180 at UC Berkeley  
<br><strong>Seed Used:</strong> (Fill In)</p>

<hr>

<!-- ================================================================ -->
<div class="section">
<h2>Part 0 — Setup</h2>

<h3>Prompt Embeddings Created</h3>
<p>I generated prompt embeddings using the provided HuggingFace clusters.  
My custom prompts include:</p>

<ul>
  <li>"prompt 1"</li>
  <li>"prompt 2"</li>
  <li>"prompt 3"</li>
</ul>

<h3>Generated Images from My Prompts</h3>
<p>Below are 3 sampled images from my prompts using different <code>num_inference_steps</code>.</p>

<div class="img-row">
  <figure>
    <img src="img/prompt1.png">
    <figcaption>Prompt 1 Output</figcaption>
  </figure>
  <figure>
    <img src="img/prompt2.png">
    <figcaption>Prompt 2 Output</figcaption>
  </figure>
  <figure>
    <img src="img/prompt3.png">
    <figcaption>Prompt 3 Output</figcaption>
  </figure>
</div>

<p><strong>Reflection:</strong>  
(Write your own explanation on alignment quality)</p>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.1 — Forward Process</h2>

<p>I implemented the forward diffusion process:</p>
<pre>Noisy image = sqrt(a̅_t) * image + sqrt(1 - a̅_t) * noise</pre>

<p>Below are noisy Campanile images for t = 250, 500, 750.</p>

<div class="img-row">
  <figure><img src="img/camp_t250.png"><figcaption>t = 250</figcaption></figure>
  <figure><img src="img/camp_t500.png"><figcaption>t = 500</figcaption></figure>
  <figure><img src="img/camp_t750.png"><figcaption>t = 750</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.2 — Classical Denoising (Gaussian Blur)</h2>
<p>I used <code>torchvision.transforms.functional.gaussian_blur</code> to denoise, though quality remains poor.</p>

<div class="img-row">
  <figure><img src="img/blur_t250.png"><figcaption>Gaussian blur (t=250)</figcaption></figure>
  <figure><img src="img/blur_t500.png"><figcaption>Gaussian blur (t=500)</figcaption></figure>
  <figure><img src="img/blur_t750.png"><figcaption>Gaussian blur (t=750)</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.3 — One-Step Denoising</h2>
<p>I passed noisy images through <code>stage_1.unet</code>, removed noise using equation A.2, and obtained:</p>

<div class="img-row">
  <figure><img src="img/onestep_t250.png"><figcaption>One-step t=250</figcaption></figure>
  <figure><img src="img/onestep_t500.png"><figcaption>One-step t=500</figcaption></figure>
  <figure><img src="img/onestep_t750.png"><figcaption>One-step t=750</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.4 — Iterative Denoising</h2>

<p>I created <code>strided_timesteps = [990, 960, ..., 0]</code> with stride 30 and implemented the full iterative sampler.</p>

<h3>Denoising Progress (Every 5 Steps)</h3>
<div class="img-row">
  <figure><img src="img/iter_0.png"><figcaption>Step 0</figcaption></figure>
  <figure><img src="img/iter_5.png"><figcaption>Step 5</figcaption></figure>
  <figure><img src="img/iter_10.png"><figcaption>Step 10</figcaption></figure>
</div>

<h3>Final Results</h3>
<div class="img-row">
  <figure><img src="img/iter_final.png"><figcaption>Iterative Denoise</figcaption></figure>
  <figure><img src="img/onestep_final.png"><figcaption>One-Step</figcaption></figure>
  <figure><img src="img/blur_final.png"><figcaption>Gaussian</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.5 — Sampling from Noise</h2>

<p>I sampled 5 images using <code>i_start = 0</code>:</p>
<div class="img-row">
  <figure><img src="img/sample1.png"><figcaption>Sample 1</figcaption></figure>
  <figure><img src="img/sample2.png"><figcaption>Sample 2</figcaption></figure>
  <figure><img src="img/sample3.png"><figcaption>Sample 3</figcaption></figure>
</div>
<div class="img-row">
  <figure><img src="img/sample4.png"><figcaption>Sample 4</figcaption></figure>
  <figure><img src="img/sample5.png"><figcaption>Sample 5</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.6 — Classifier-Free Guidance (CFG)</h2>

<p>I implemented conditional + unconditional UNet calls.  
CFG greatly improves quality.</p>

<div class="img-row">
  <figure><img src="img/cfg1.png"><figcaption>CFG Sample 1</figcaption></figure>
  <figure><img src="img/cfg2.png"><figcaption>CFG Sample 2</figcaption></figure>
  <figure><img src="img/cfg3.png"><figcaption>CFG Sample 3</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.7 — SDEdit (Image-to-Image)</h2>

<h3>Campanile Edits at Different Noise Levels</h3>
<div class="img-row">
  <figure><img src="img/sdedit_1.png"><figcaption>i_start = 1</figcaption></figure>
  <figure><img src="img/sdedit_3.png"><figcaption>i_start = 3</figcaption></figure>
  <figure><img src="img/sdedit_5.png"><figcaption>i_start = 5</figcaption></figure>
</div>

<div class="img-row">
  <figure><img src="img/sdedit_7.png"><figcaption>i_start = 7</figcaption></figure>
  <figure><img src="img/sdedit_10.png"><figcaption>i_start = 10</figcaption></figure>
  <figure><img src="img/sdedit_20.png"><figcaption>i_start = 20</figcaption></figure>
</div>

<h3>Two additional images</h3>
<p>(Insert your two images here)</p>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.7.1 — Editing Hand-Drawn & Web Images</h2>

<h3>Web Image Example</h3>
<div class="img-row">
  <figure><img src="img/web_1.png"><figcaption>i_start = 1</figcaption></figure>
  <figure><img src="img/web_20.png"><figcaption>i_start = 20</figcaption></figure>
</div>

<h3>Two Hand-Drawn Examples</h3>
<div class="img-row">
  <figure><img src="img/draw1_1.png"><figcaption>Draw 1 (i=1)</figcaption></figure>
  <figure><img src="img/draw1_20.png"><figcaption>Draw 1 (i=20)</figcaption></figure>
</div>

<div class="img-row">
  <figure><img src="img/draw2_1.png"><figcaption>Draw 2 (i=1)</figcaption></figure>
  <figure><img src="img/draw2_20.png"><figcaption>Draw 2 (i=20)</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.7.2 — Inpainting</h2>

<h3>Mask</h3>
<figure><img src="img/mask.png"><figcaption>Inpainting Mask</figcaption></figure>

<h3>Results</h3>
<div class="img-row">
  <figure><img src="img/inpaint1.png"><figcaption>Inpaint Result 1</figcaption></figure>
  <figure><img src="img/inpaint2.png"><figcaption>Inpaint Result 2</figcaption></figure>
  <figure><img src="img/inpaint3.png"><figcaption>Inpaint Result 3</figcaption></figure>
</div>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.7.3 — Text-Conditional Image-to-Image Translation</h2>

<h3>Campanile + My Prompt</h3>
<div class="img-row">
  <figure><img src="img/txt1.png"><figcaption>i_start = 1</figcaption></figure>
  <figure><img src="img/txt3.png"><figcaption>i_start = 3</figcaption></figure>
  <figure><img src="img/txt5.png"><figcaption>i_start = 5</figcaption></figure>
</div>

<div class="img-row">
  <figure><img src="img/txt7.png"><figcaption>i_start = 7</figcaption></figure>
  <figure><img src="img/txt10.png"><figcaption>i_start = 10</figcaption></figure>
  <figure><img src="img/txt20.png"><figcaption>i_start = 20</figcaption></figure>
</div>

<h3>Two More of My Own Images</h3>
<p>(Insert your results here)</p>
</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.8 — Visual Anagrams (Optical Illusions)</h2>

<h3>Example 1</h3>
<div class="img-row">
  <figure><img src="img/anagram1.png"><figcaption>Upright</figcaption></figure>
  <figure><img src="img/anagram1_flip.png"><figcaption>Flipped</figcaption></figure>
</div>

<h3>Example 2</h3>
<div class="img-row">
  <figure><img src="img/anagram2.png"><figcaption>Upright</figcaption></figure>
  <figure><img src="img/anagram2_flip.png"><figcaption>Flipped</figcaption></figure>
</div>

</div>

<!-- ================================================================ -->
<div class="section">
<h2>Part 1.9 — Hybrid Images</h2>

<h3>Example 1</h3>
<div class="img-row">
  <figure><img src="img/hybrid1.png"><figcaption>Hybrid Image 1</figcaption></figure>
</div>

<h3>Example 2</h3>
<div class="img-row">
  <figure><img src="img/hybrid2.png"><figcaption>Hybrid Image 2</figcaption></figure>
</div>
</div>

<hr>
<p>End of Project 5 (Part A)</p>

</body>
</html>
